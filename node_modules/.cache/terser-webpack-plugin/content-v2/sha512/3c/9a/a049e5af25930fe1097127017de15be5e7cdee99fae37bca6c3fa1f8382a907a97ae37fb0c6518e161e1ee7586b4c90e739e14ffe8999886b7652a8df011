{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{334:function(e,v,_){\"use strict\";_.r(v);var r=_(33),o=Object(r.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[_(\"p\",[e._v(\"前段时间是一直看着廖雪峰老师的\"),_(\"a\",{attrs:{href:\"https://www.liaoxuefeng.com/wiki/1022910821149312\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"JavaScript教程\"),_(\"OutboundLink\")],1),e._v(\"在学习，看到浏览器部分就开始有点力不迷糊了，再加上是一段换工作之旅，折腾到现在都有点飘飘然不知道从何下手。于是又从浏览器部分开始看，终于看到了\"),_(\"a\",{attrs:{href:\"https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544\",target:\"_blank\",rel:\"noopener noreferrer\"}},[_(\"code\",[e._v(\"Promise\")]),_(\"OutboundLink\")],1),e._v(\"这里。\")]),e._v(\" \"),_(\"p\",[e._v(\"干看下来还是有点不知所以，就来敲点字，查查资料啦。\")]),e._v(\" \"),_(\"p\",[e._v(\"在看教程的过程中，主要不理解的点主要集中在：\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[e._v(\"没有理解\"),_(\"code\",[e._v(\"promise\")]),e._v(\"对象的执行过程\")]),e._v(\" \"),_(\"li\",[e._v(\"不知道\"),_(\"code\",[e._v(\"resolve\")]),e._v(\"函数和\"),_(\"code\",[e._v(\"reject\")]),e._v(\"函数是什么\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"job1.then(job2).then(job3).catch(handleError);\")]),e._v(\"这段代码懵逼了……\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"async\")]),e._v(\"？？？\")])]),e._v(\" \"),_(\"p\",[e._v(\"于是在一番愉快(....)的探索之后，来到阮老师的\"),_(\"a\",{attrs:{href:\"http://es6.ruanyifeng.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ES6入门\"),_(\"OutboundLink\")],1),e._v(\"，内容更多更细致一点，便于理解代码。\")]),e._v(\" \"),_(\"p\",[e._v(\"所以以下主要是是阮老师ES6入门的\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"的学习笔记了。\")]),e._v(\" \"),_(\"h2\",{attrs:{id:\"定义\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#定义\"}},[e._v(\"#\")]),e._v(\" 定义\")]),e._v(\" \"),_(\"p\",[_(\"code\",[e._v(\"Promise\")]),e._v(\" 是异步编程的一种解决方案，ES6将其写进了语言标准，原生提供了\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象。\")]),e._v(\" \"),_(\"h3\",{attrs:{id:\"一个实例\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一个实例\"}},[e._v(\"#\")]),e._v(\" 一个实例\")]),e._v(\" \"),_(\"p\",[e._v(\"ES6 规定，\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象是一个构造函数，用来生成一个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"实例。\")]),e._v(\" \"),_(\"p\",[e._v(\"下面代码创造了一个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"实例。\")]),e._v(\" \"),_(\"div\",{staticClass:\"language- extra-class\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[e._v(\"const promise = new Promise(function(resolve, reject) {\\n  // ... some code\\n\\n  if (/* 异步操作成功 */){\\n    resolve(value);\\n  } else {\\n    reject(error);\\n  }\\n});\\n\")])])]),_(\"h3\",{attrs:{id:\"两个基本函数\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#两个基本函数\"}},[e._v(\"#\")]),e._v(\" 两个基本函数\")]),e._v(\" \"),_(\"p\",[e._v(\"JavaScript引擎对\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象接收的函数\"),_(\"code\",[e._v(\"function(resolve, reject)\")]),e._v(\"提供了两个函数作为参数，函数执行时会修改\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象的\"),_(\"strong\",[e._v(\"状态\")]),e._v(\"，并传递一个对应的参数。\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[_(\"code\",[e._v(\"resolve(value)\")]),e._v(\"，可在异步操作成功执行时调用，将\"),_(\"code\",[e._v(\"value\")]),e._v(\"值传递出去。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"reject(error)\")]),e._v(\"，可在异步操作失败时调用，将\"),_(\"code\",[e._v(\"error\")]),e._v(\"值传递出去。\")])]),e._v(\" \"),_(\"h3\",{attrs:{id:\"三个状态\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三个状态\"}},[e._v(\"#\")]),e._v(\" 三个状态\")]),e._v(\" \"),_(\"p\",[e._v(\"一个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"有以下三种状态——\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[_(\"code\",[e._v(\"pending\")]),e._v(\"：在\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象被创建时产生的状态，表示进行中\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"fulfilled\")]),e._v(\"：异步操作执行成功后，\"),_(\"code\",[e._v(\"resolve\")]),e._v(\"函数会将\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"状态改变为\"),_(\"code\",[e._v(\"fulfilled\")]),e._v(\"，表示执行成功\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"rejected\")]),e._v(\"：异步操作执行失败时，\"),_(\"code\",[e._v(\"reject\")]),e._v(\"函数会将\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"状态改变为\"),_(\"code\",[e._v(\"rejected\")]),e._v(\"，表示执行失败。\")])]),e._v(\" \"),_(\"p\",[e._v(\"到这里，可以对Promise的运行过程可以基本有一个简单了解了，如图所示\")]),e._v(\" \"),_(\"center\",[_(\"img\",{attrs:{src:\"/images/03-FrontEnd/01PromiseObj.png\"}}),e._v(\" \"),_(\"img\"),e._v(\" \"),_(\"p\",{staticStyle:{\"text-align\":\"center\"}},[e._v(\"Promise执行过程\")])]),e._v(\" \"),_(\"p\",{staticStyle:{\"font-size\":\"0.8rem\",\"font-weight\":\"bold\"}},[e._v(\"注: 这里的test.status和test.value等仅做说明，tatus和value属性无法调用，即无法通过test.staus和test.value直接访问和获取值\")]),e._v(\" \"),_(\"h2\",{attrs:{id:\"promise的基本使用\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#promise的基本使用\"}},[e._v(\"#\")]),e._v(\" Promise的基本使用\")]),e._v(\" \"),_(\"p\",[e._v(\"一个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"实例生成后，可以用它的\"),_(\"code\",[e._v(\"then\")]),e._v(\"方法来指定回调函数（调用\"),_(\"code\",[e._v(\"value\")]),e._v(\"/\"),_(\"code\",[e._v(\"error\")]),e._v(\"）。\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[e._v(\"使用\"),_(\"code\",[e._v(\"then\")])])]),e._v(\" \"),_(\"div\",{staticClass:\"language- extra-class\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[e._v(\"promise.then(function(value) {\\n  // success\\n}, function(error) {\\n  // failure\\n});\\n\")])])]),_(\"ul\",[_(\"li\",[e._v(\"使用\"),_(\"code\",[e._v(\"then\")]),e._v(\"和\"),_(\"code\",[e._v(\"catch\")])])]),e._v(\" \"),_(\"div\",{staticClass:\"language- extra-class\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[e._v(\"promise.then(function(value) {\\n  // success\\n}.catch(function(error) {\\n  // failure\\n});\\n\")])])]),_(\"h2\",{attrs:{id:\"n个方法\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#n个方法\"}},[e._v(\"#\")]),e._v(\" n个方法\")]),e._v(\" \"),_(\"p\",[_(\"code\",[e._v(\"Promise\")]),e._v(\"的原型包含很多个方法，这里就暂时不再深挖，上述的基本使用应该就满足了目前的学习了（吧？）。\")]),e._v(\" \"),_(\"p\",[e._v(\"下面罗列一下\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"的其他方法，后续拿来继续学习。\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[_(\"code\",[e._v(\"Promise.prototype.then()\")]),e._v(\"。可以接收两个回调函数作为参数，第一个为成功（resolve）时的 \"),_(\"code\",[e._v(\"value\")]),e._v(\" 参数，第二个为失败（reject）时\"),_(\"code\",[e._v(\"error\")]),e._v(\"参数。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.prototype.catch\")]),e._v(\"。 \"),_(\"code\",[e._v(\"then(null, rejection)\")]),e._v(\"或\"),_(\"code\",[e._v(\".then(undefined, rejection)\")]),e._v(\" 的别名，在\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象执行失败（reject）时调用\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.prototype.finally()\")]),e._v(\"。不管\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象的状态如何，都会执行的操作。是\"),_(\"code\",[e._v(\"then\")]),e._v(\"的一个特例。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.all()\")]),e._v(\"。包装多个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\" a,b,c。所有任务都\"),_(\"code\",[e._v(\"resolve\")]),e._v(\"，新的实例才会\"),_(\"code\",[e._v(\"resolve\")]),e._v(\"。相当于逻辑\"),_(\"code\",[e._v(\"与\")]),e._v(\"/\"),_(\"code\",[e._v(\"&&\")]),e._v(\"。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.race()\")]),e._v(\"。包装多个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"。其中一个过程执行完即返回结果，不管失败或成功，在应用中会使程序更有容错性。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.allSettled()\")]),e._v(\"。包装多个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"，所有\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"执行完毕后，状态都为\"),_(\"code\",[e._v(\"fulfilled\")]),e._v(\"，同时返回一个\"),_(\"code\",[e._v(\"value\")]),e._v(\"值，类型为数组。数组中每一个值为一个对象，包含各个实例的\"),_(\"code\",[e._v(\"status\")]),e._v(\"和\"),_(\"code\",[e._v(\"value\")]),e._v(\"/\"),_(\"code\",[e._v(\"reason\")]),e._v(\"属性对应值。可以用来监听各个实例的当前执行情况。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.any()\")]),e._v(\"。包装多个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"。相当于逻辑\"),_(\"code\",[e._v(\"或\")]),e._v(\"/\"),_(\"code\",[e._v(\"||\")])]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.try()\")]),e._v(\"。与catch方法类似，是模拟\"),_(\"code\",[e._v(\"try\")]),e._v(\"方法开发的\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.resolve()\")]),e._v(\"。将参数对象转化为\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象。\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise.reject()\")]),e._v(\"。创建一个\"),_(\"code\",[e._v(\"Promise\")]),e._v(\"对象，其状态(status)为\"),_(\"code\",[e._v(\"rejected\")]),e._v(\"，\"),_(\"code\",[e._v(\"reason\")]),e._v(\"值为参数值。\")])]),e._v(\" \"),_(\"h2\",{attrs:{id:\"问题\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题\"}},[e._v(\"#\")]),e._v(\" 问题\")]),e._v(\" \"),_(\"p\",[e._v(\"到这里，在学习上还是存在一些问题的。\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[e._v(\"异步和同步理解的还不够深入\")]),e._v(\" \"),_(\"li\",[_(\"code\",[e._v(\"Promise\")]),e._v(\"要拿来实际应用才行。\")])]),e._v(\" \"),_(\"h2\",{attrs:{id:\"参考文献\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文献\"}},[e._v(\"#\")]),e._v(\" 参考文献\")]),e._v(\" \"),_(\"ul\",[_(\"li\",[_(\"a\",{attrs:{href:\"http://es6.ruanyifeng.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"《ECMAScript 6 入门》 作者：阮一峰\"),_(\"OutboundLink\")],1)])])],1)}),[],!1,null,null,null);v.default=o.exports}}]);","extractedComments":[]}